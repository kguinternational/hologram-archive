<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Chapter 9: Security, Safety, and Correctness - The Hologram (12,288): A Complete Computer Science Formalization</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="A comprehensive computer science formalization of the 12,288 Hologram model of computation using mainstream CS formalisms">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/custom.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../title-page.html">Title Page</a></li><li class="chapter-item expanded affix "><a href="../preface.html">Preface</a></li><li class="chapter-item expanded affix "><a href="../readers-guide.html">Reader's Guide & Conventions</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Part I: Mathematical Foundations</li><li class="chapter-item expanded "><a href="../part-1/01-information-as-lawful-structure.html"><strong aria-hidden="true">1.</strong> Chapter 1: Information as Lawful Structure</a></li><li class="chapter-item expanded "><a href="../part-1/02-universal-automaton.html"><strong aria-hidden="true">2.</strong> Chapter 2: The Universal Automaton</a></li><li class="chapter-item expanded "><a href="../part-1/03-labels-schedules-receipts.html"><strong aria-hidden="true">3.</strong> Chapter 3: Intrinsic Labels, Schedules, and Receipts</a></li><li class="chapter-item expanded "><a href="../part-1/04-content-addressable-memory.html"><strong aria-hidden="true">4.</strong> Chapter 4: Content-Addressable Memory</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Part II: Algebraic Structure</li><li class="chapter-item expanded "><a href="../part-2/05-lawfulness-as-type-system.html"><strong aria-hidden="true">5.</strong> Chapter 5: Lawfulness as a Type System</a></li><li class="chapter-item expanded "><a href="../part-2/06-programs-as-geometry.html"><strong aria-hidden="true">6.</strong> Chapter 6: Programs as Geometry</a></li><li class="chapter-item expanded "><a href="../part-2/07-algorithmic-reification.html"><strong aria-hidden="true">7.</strong> Chapter 7: Algorithmic Reification</a></li><li class="chapter-item expanded "><a href="../part-2/08-universal-cost.html"><strong aria-hidden="true">8.</strong> Chapter 8: The Universal Cost</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Part III: System Architecture</li><li class="chapter-item expanded "><a href="../part-3/09-security-safety-correctness.html" class="active"><strong aria-hidden="true">9.</strong> Chapter 9: Security, Safety, and Correctness</a></li><li class="chapter-item expanded "><a href="../part-3/10-worked-micro-examples.html"><strong aria-hidden="true">10.</strong> Chapter 10: Worked Micro-Examples</a></li><li class="chapter-item expanded "><a href="../part-3/11-interfaces-to-mainstream-cs.html"><strong aria-hidden="true">11.</strong> Chapter 11: Interfaces to Mainstream CS</a></li><li class="chapter-item expanded "><a href="../part-3/12-minimal-core.html"><strong aria-hidden="true">12.</strong> Chapter 12: Minimal Core</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Part IV: Protocol Design</li><li class="chapter-item expanded "><a href="../part-4/13-meta-theory-expressivity.html"><strong aria-hidden="true">13.</strong> Chapter 13: Meta-Theory & Expressivity</a></li><li class="chapter-item expanded "><a href="../part-4/14-normalization-confluence.html"><strong aria-hidden="true">14.</strong> Chapter 14: Normalization & Confluence</a></li><li class="chapter-item expanded "><a href="../part-4/15-categorical-semantics.html"><strong aria-hidden="true">15.</strong> Chapter 15: Categorical Semantics</a></li><li class="chapter-item expanded "><a href="../part-4/16-security-proofs.html"><strong aria-hidden="true">16.</strong> Chapter 16: Security Proofs</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Part V: Implementation</li><li class="chapter-item expanded "><a href="../part-5/17-optimization-landscape.html"><strong aria-hidden="true">17.</strong> Chapter 17: Optimization Landscape</a></li><li class="chapter-item expanded "><a href="../part-5/18-data-structure-implementation.html"><strong aria-hidden="true">18.</strong> Chapter 18: Data Structure Implementation</a></li><li class="chapter-item expanded "><a href="../part-5/19-runtime-architecture.html"><strong aria-hidden="true">19.</strong> Chapter 19: Runtime Architecture</a></li><li class="chapter-item expanded "><a href="../part-5/20-verification-system.html"><strong aria-hidden="true">20.</strong> Chapter 20: Verification System</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Part VI: Applications</li><li class="chapter-item expanded "><a href="../part-6/21-distributed-systems.html"><strong aria-hidden="true">21.</strong> Chapter 21: Distributed Systems</a></li><li class="chapter-item expanded "><a href="../part-6/22-database-systems.html"><strong aria-hidden="true">22.</strong> Chapter 22: Database Systems</a></li><li class="chapter-item expanded "><a href="../part-6/23-compiler-construction.html"><strong aria-hidden="true">23.</strong> Chapter 23: Compiler Construction</a></li><li class="chapter-item expanded "><a href="../part-6/24-machine-learning-integration.html"><strong aria-hidden="true">24.</strong> Chapter 24: Machine Learning Integration</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Appendices</li><li class="chapter-item expanded "><a href="../appendices/A-glossary.html"><strong aria-hidden="true">25.</strong> Appendix A: Glossary</a></li><li class="chapter-item expanded "><a href="../appendices/B-mathematical-notation.html"><strong aria-hidden="true">26.</strong> Appendix B: Mathematical Notation</a></li><li class="chapter-item expanded "><a href="../appendices/C-cs-mappings.html"><strong aria-hidden="true">27.</strong> Appendix C: Side-by-Side CS Mappings</a></li><li class="chapter-item expanded "><a href="../appendices/D-exercise-solutions.html"><strong aria-hidden="true">28.</strong> Appendix D: Exercise Solutions</a></li><li class="chapter-item expanded "><a href="../appendices/E-implementation-code.html"><strong aria-hidden="true">29.</strong> Appendix E: Implementation Code</a></li><li class="chapter-item expanded "><a href="../appendices/F-research-problems.html"><strong aria-hidden="true">30.</strong> Appendix F: Research Problems</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../bibliography.html">Bibliography</a></li><li class="chapter-item expanded affix "><a href="../index.html">Index</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Hologram (12,288): A Complete Computer Science Formalization</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/uor-foundation/hologram-cs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="chapter-9-security-safety-and-correctness"><a class="header" href="#chapter-9-security-safety-and-correctness">Chapter 9: Security, Safety, and Correctness</a></h1>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>Traditional systems add security through layers of checks, monitors, and access controls. Memory safety requires bounds checking, garbage collection, or ownership rules. Correctness demands formal proofs often divorced from the actual implementation.</p>
<p>In the Hologram model, these properties aren’t added—they emerge from the fundamental structure. Type errors are physically impossible. Memory corruption cannot occur. Security vulnerabilities are conservation law violations that literally cannot exist. This chapter explores how lawfulness provides intrinsic safety.</p>
<h2 id="intrinsic-type-safety"><a class="header" href="#intrinsic-type-safety">Intrinsic Type Safety</a></h2>
<h3 id="type-errors-as-physical-impossibilities"><a class="header" href="#type-errors-as-physical-impossibilities">Type Errors as Physical Impossibilities</a></h3>
<p>In traditional systems:</p>
<pre><code class="language-c">int* ptr = (int*)"hello";  // Type confusion
*ptr = 42;                  // Undefined behavior
</code></pre>
<p>In the Hologram model:</p>
<pre><code class="language-python">string_obj = create_string("hello")  # R96 class 17
int_type = IntType()                 # Expects R96 class 42

# Attempting type confusion
try:
    cast_to_int(string_obj)
except ConservationViolation:
    # Cannot change R96 class without budget
    # At budget 0, cast is impossible
    print("Type cast violates conservation laws")
</code></pre>
<p><strong>Theorem 9.1 (Type Safety)</strong>:
Well-typed programs cannot produce type errors at runtime.</p>
<p><em>Proof</em>: Types are R96 equivalence classes. Operations preserve R96 (conservation law). Therefore, type is invariant during execution. □</p>
<h3 id="no-type-confusion"><a class="header" href="#no-type-confusion">No Type Confusion</a></h3>
<p><strong>Definition 9.1 (Type Confusion Impossibility)</strong>:
An object cannot be interpreted as a different type without explicit budget expenditure.</p>
<p>This eliminates:</p>
<ul>
<li>Use-after-free (freed memory has different R96)</li>
<li>Type confusion attacks</li>
<li>Vtable hijacking</li>
<li>Return-oriented programming</li>
</ul>
<h3 id="the-safety-receipt"><a class="header" href="#the-safety-receipt">The Safety Receipt</a></h3>
<p>Every operation produces a safety receipt:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct SafetyReceipt {
    type_preserved: bool,      // R96 unchanged
    bounds_checked: bool,       // Within lattice bounds
    ownership_valid: bool,      // Unique owner verified
    lifetime_valid: bool,       // Object still alive
    integrity_hash: [u8; 32],  // Content unchanged
}
<span class="boring">}</span></code></pre></pre>
<h2 id="memory-safety"><a class="header" href="#memory-safety">Memory Safety</a></h2>
<h3 id="no-pointers-no-problems"><a class="header" href="#no-pointers-no-problems">No Pointers, No Problems</a></h3>
<p>The Hologram model has no pointers—only content addresses:</p>
<p>Traditional pointer problems:</p>
<ul>
<li>Dangling pointers</li>
<li>Buffer overflows</li>
<li>Double frees</li>
<li>Memory leaks</li>
<li>Race conditions</li>
</ul>
<p>Hologram solutions:</p>
<ul>
<li>Content addresses are immutable</li>
<li>Lattice has fixed bounds</li>
<li>No explicit allocation/deallocation</li>
<li>Garbage collection via unreachable addresses</li>
<li>No mutable aliasing</li>
</ul>
<h3 id="bounds-are-physics"><a class="header" href="#bounds-are-physics">Bounds Are Physics</a></h3>
<p><strong>Definition 9.2 (Lattice Bounds)</strong>:
All addresses are in T = ℤ/48 × ℤ/256.</p>
<p>Attempting to access outside T:</p>
<pre><code class="language-python">def access(page, byte):
    # Automatic modular arithmetic
    actual_page = page % 48
    actual_byte = byte % 256
    return lattice[actual_page][actual_byte]

# No buffer overflow possible!
access(1000, 5000)  # Wraps to (40, 136)
</code></pre>
<h3 id="spatial-memory-safety"><a class="header" href="#spatial-memory-safety">Spatial Memory Safety</a></h3>
<p><strong>Theorem 9.2 (Spatial Safety)</strong>:
No operation can access memory outside allocated regions.</p>
<p><em>Proof</em>: All addresses are content-determined. Content hash maps to valid lattice site. No arbitrary address construction possible. □</p>
<h3 id="temporal-memory-safety"><a class="header" href="#temporal-memory-safety">Temporal Memory Safety</a></h3>
<p><strong>Theorem 9.3 (Temporal Safety)</strong>:
No operation can access freed memory.</p>
<p><em>Proof</em>: “Freed” memory changes content (zeroing). Changed content → different address. Old address no longer resolves to freed location. □</p>
<h2 id="integrity--non-interference"><a class="header" href="#integrity--non-interference">Integrity &amp; Non-interference</a></h2>
<h3 id="information-flow-control"><a class="header" href="#information-flow-control">Information Flow Control</a></h3>
<p>The Hologram model tracks information flow through receipts:</p>
<pre><code class="language-python">class InfoFlow:
    def __init__(self):
        self.taint_map = {}  # Site → SecurityLevel

    def propagate(self, source, dest, operation):
        source_level = self.taint_map.get(source, PUBLIC)

        # Information flows with operations
        if operation.increases_level():
            dest_level = upgrade_level(source_level)
        else:
            dest_level = source_level

        self.taint_map[dest] = dest_level

        # Generate flow receipt
        return FlowReceipt(
            source=source,
            dest=dest,
            level_change=source_level != dest_level,
            operation=operation
        )
</code></pre>
<h3 id="non-interference-property"><a class="header" href="#non-interference-property">Non-Interference Property</a></h3>
<p><strong>Definition 9.3 (Non-Interference)</strong>:
Low-security observations cannot depend on high-security inputs.</p>
<p><strong>Theorem 9.4 (Receipt-Based Non-Interference)</strong>:
Programs with verified flow receipts satisfy non-interference.</p>
<p><em>Proof</em>: Flow receipts track all information movement. Verification ensures no high→low flows. Therefore, low outputs independent of high inputs. □</p>
<h3 id="integrity-via-conservation"><a class="header" href="#integrity-via-conservation">Integrity via Conservation</a></h3>
<p>Data integrity is a conservation law:</p>
<pre><code class="language-python">def verify_integrity(original, current):
    original_receipt = compute_receipt(original)
    current_receipt = compute_receipt(current)

    # Check R96 preservation
    if original_receipt.r96 != current_receipt.r96:
        return False, "Resonance violation"

    # Check authorized modifications only
    if not authorized_transform(original_receipt, current_receipt):
        return False, "Unauthorized modification"

    return True, "Integrity preserved"
</code></pre>
<h2 id="collision-resistance"><a class="header" href="#collision-resistance">Collision Resistance</a></h2>
<h3 id="perfect-hashing-guarantee"><a class="header" href="#perfect-hashing-guarantee">Perfect Hashing Guarantee</a></h3>
<p><strong>Theorem 9.5 (Collision-Free Addressing)</strong>:
For lawful objects a,b: H(a) = H(b) ⟺ a ≡ᵍ b</p>
<p>This means:</p>
<ul>
<li>No hash collisions for distinct lawful objects</li>
<li>Automatic deduplication</li>
<li>Content-addressable storage is secure</li>
</ul>
<h3 id="birthday-attack-immunity"><a class="header" href="#birthday-attack-immunity">Birthday Attack Immunity</a></h3>
<p>Traditional hashes suffer from birthday attacks:</p>
<ul>
<li>n-bit hash → √(2ⁿ) trials for collision</li>
</ul>
<p>Hologram hashes are different:</p>
<ul>
<li>Lawfulness constraint eliminates most space</li>
<li>Gauge equivalence identifies semantically identical objects</li>
<li>Effective security much higher than bit count suggests</li>
</ul>
<h3 id="cryptographic-properties"><a class="header" href="#cryptographic-properties">Cryptographic Properties</a></h3>
<pre><code class="language-python">def hologram_hash_properties():
    # Preimage resistance
    # Given h, cannot find x where H(x) = h without lawful x

    # Second preimage resistance
    # Given x₁, cannot find x₂ where H(x₁) = H(x₂) unless x₁ ≡ᵍ x₂

    # Collision resistance
    # Cannot find any x₁,x₂ where H(x₁) = H(x₂) unless x₁ ≡ᵍ x₂
</code></pre>
<h2 id="defense-against-common-attacks"><a class="header" href="#defense-against-common-attacks">Defense Against Common Attacks</a></h2>
<h3 id="buffer-overflow"><a class="header" href="#buffer-overflow">Buffer Overflow</a></h3>
<p>Traditional buffer overflow:</p>
<pre><code class="language-c">char buffer[10];
strcpy(buffer, attacker_controlled);  // Overflow!
</code></pre>
<p>Hologram defense:</p>
<pre><code class="language-python">def safe_copy(dest_region, source):
    # Regions have fixed size in lattice
    dest_size = region_size(dest_region)
    source_size = len(source)

    if source_size &gt; dest_size:
        # Cannot overflow - physics prevents it
        raise ConservationViolation("Would exceed region")

    # Copy preserves receipts
    copy_with_receipt(dest_region, source)
</code></pre>
<h3 id="sql-injection"><a class="header" href="#sql-injection">SQL Injection</a></h3>
<p>Traditional SQL injection:</p>
<pre><code class="language-python">query = f"SELECT * FROM users WHERE name = '{user_input}'"
# user_input = "'; DROP TABLE users; --"
</code></pre>
<p>Hologram defense:</p>
<pre><code class="language-python">def safe_query(table, condition):
    # Queries are lawful objects with types
    query_obj = create_query(
        table=table,       # Type: TableReference
        condition=condition # Type: Condition
    )

    # Verify query lawfulness
    receipt = compute_receipt(query_obj)
    if not verify_receipt(receipt):
        raise ValueError("Malformed query")

    # Execute only lawful queries
    return execute_lawful(query_obj)
</code></pre>
<h3 id="cross-site-scripting-xss"><a class="header" href="#cross-site-scripting-xss">Cross-Site Scripting (XSS)</a></h3>
<p>Traditional XSS:</p>
<pre><code class="language-html">&lt;div&gt;{{user_input}}&lt;/div&gt;
&lt;!-- user_input = &lt;script&gt;alert('XSS')&lt;/script&gt; --&gt;
</code></pre>
<p>Hologram defense:</p>
<pre><code class="language-python">def render_safe(template, data):
    # Templates and data have different R96 classes
    template_class = R96_TEMPLATE
    data_class = R96_DATA

    # Cannot mix without explicit budget
    rendered = apply_template(
        template,  # Must be R96_TEMPLATE
        data       # Must be R96_DATA
    )

    # Script injection would violate R96 conservation
    verify_no_code_injection(rendered)
    return rendered
</code></pre>
<h3 id="race-conditions"><a class="header" href="#race-conditions">Race Conditions</a></h3>
<p>Traditional race:</p>
<pre><code class="language-python"># Thread 1
if balance &gt;= amount:
    balance -= amount

# Thread 2
if balance &gt;= amount:
    balance -= amount
# Double withdrawal!
</code></pre>
<p>Hologram solution:</p>
<pre><code class="language-python">def atomic_withdraw(account, amount):
    # Operations are atomic process objects
    withdraw_process = create_process(
        operation=WITHDRAW,
        account=account,
        amount=amount
    )

    # C768 schedule ensures atomicity
    schedule_slot = assign_c768_slot(withdraw_process)

    # Only one operation per slot
    execute_at_slot(withdraw_process, schedule_slot)
</code></pre>
<h2 id="formal-verification-integration"><a class="header" href="#formal-verification-integration">Formal Verification Integration</a></h2>
<h3 id="receipts-as-proofs"><a class="header" href="#receipts-as-proofs">Receipts as Proofs</a></h3>
<p>Every execution produces a proof:</p>
<pre><code class="language-python">def verified_execution(program, input):
    # Execute
    result, trace = execute_with_trace(program, input)

    # Extract proof from trace
    proof = trace_to_proof(trace)

    # Verify proof
    if not verify_proof(proof, program.spec):
        raise VerificationError("Execution doesn't meet spec")

    return VerifiedResult(
        value=result,
        proof=proof,
        receipt=compute_receipt(trace)
    )
</code></pre>
<h3 id="compositional-verification"><a class="header" href="#compositional-verification">Compositional Verification</a></h3>
<pre><code class="language-python">def compose_verified(f, g):
    # f: A → B with proof P_f
    # g: B → C with proof P_g

    # Composed function
    h = lambda x: g(f(x))

    # Composed proof
    proof_h = compose_proofs(f.proof, g.proof)

    # Verification is preserved
    assert verify(h, proof_h)

    return VerifiedFunction(h, proof_h)
</code></pre>
<h2 id="implementation-of-security-monitors"><a class="header" href="#implementation-of-security-monitors">Implementation of Security Monitors</a></h2>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct SecurityMonitor {
    type_checker: TypeChecker,
    flow_tracker: InfoFlowTracker,
    integrity_checker: IntegrityChecker,
}

impl SecurityMonitor {
    pub fn check_operation(&amp;self, op: &amp;Operation) -&gt; SecurityReceipt {
        SecurityReceipt {
            type_safe: self.type_checker.verify(op),
            memory_safe: self.verify_memory_safety(op),
            flow_safe: self.flow_tracker.verify(op),
            integrity: self.integrity_checker.verify(op),
        }
    }

    fn verify_memory_safety(&amp;self, op: &amp;Operation) -&gt; bool {
        // Check bounds
        for access in op.memory_accesses() {
            if !self.in_bounds(access) {
                return false;
            }
        }

        // Check lifetime
        for object in op.accessed_objects() {
            if !self.is_alive(object) {
                return false;
            }
        }

        true
    }
}
<span class="boring">}</span></code></pre></pre>
<h2 id="exercises"><a class="header" href="#exercises">Exercises</a></h2>
<p><strong>Exercise 9.1</strong>: Prove that use-after-free is impossible in the Hologram model.</p>
<p><strong>Exercise 9.2</strong>: Design a capability system using receipts. What properties does it guarantee?</p>
<p><strong>Exercise 9.3</strong>: Show that timing attacks are mitigated by C768 scheduling.</p>
<p><strong>Exercise 9.4</strong>: Implement a secure communication channel using conservation laws.</p>
<p><strong>Exercise 9.5</strong>: Prove that verified programs cannot have undefined behavior.</p>
<h2 id="takeaways"><a class="header" href="#takeaways">Takeaways</a></h2>
<ol>
<li><strong>Type safety is physics</strong>: Conservation laws prevent type confusion</li>
<li><strong>Memory safety is automatic</strong>: No pointers, fixed bounds, content addressing</li>
<li><strong>Integrity via conservation</strong>: Unauthorized changes violate receipts</li>
<li><strong>Collision resistance is perfect</strong>: Lawful objects never collide</li>
<li><strong>Common attacks impossible</strong>: Buffer overflows, injections prevented by structure</li>
<li><strong>Verification is intrinsic</strong>: Proofs are receipts, not separate artifacts</li>
</ol>
<p>Security isn’t added to the Hologram model—it emerges from conservation laws.</p>
<hr />
<p><em>Next: Chapter 10 provides concrete micro-examples demonstrating these principles in action.</em></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../part-2/08-universal-cost.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../part-3/10-worked-micro-examples.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../part-2/08-universal-cost.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../part-3/10-worked-micro-examples.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
