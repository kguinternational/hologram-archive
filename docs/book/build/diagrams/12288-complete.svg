<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <linearGradient id="matrixGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.8" />
      <stop offset="50%" style="stop-color:#8b5cf6;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#ec4899;stop-opacity:0.8" />
    </linearGradient>
    <pattern id="matrixPattern" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect width="20" height="20" fill="#f9fafb"/>
      <circle cx="10" cy="10" r="1" fill="#d1d5db"/>
    </pattern>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#1f2937">
    The 12,288 Coordinate System: Complete Structure
  </text>

  <!-- Main Matrix Visualization -->
  <g transform="translate(100, 100)">
    <!-- Matrix Background -->
    <rect x="0" y="0" width="480" height="320" fill="url(#matrixPattern)" stroke="#374151" stroke-width="2" filter="url(#shadow)"/>

    <!-- Column Headers -->
    <g font-family="monospace" font-size="10" fill="#6b7280">
      <text x="5" y="-5">0</text>
      <text x="45" y="-5">1</text>
      <text x="85" y="-5">2</text>
      <text x="125" y="-5">3</text>
      <text x="165" y="-5">4</text>
      <text x="205" y="-5">5</text>
      <text x="235" y="-5">...</text>
      <text x="435" y="-5">46</text>
      <text x="465" y="-5">47</text>
    </g>

    <!-- Row Headers -->
    <g font-family="monospace" font-size="10" fill="#6b7280">
      <text x="-20" y="15">0</text>
      <text x="-20" y="35">8</text>
      <text x="-20" y="55">16</text>
      <text x="-20" y="75">24</text>
      <text x="-20" y="155">...</text>
      <text x="-30" y="285">240</text>
      <text x="-30" y="305">248</text>
      <text x="-30" y="315">255</text>
    </g>

    <!-- Sample cells with gradient -->
    <rect x="0" y="0" width="10" height="10" fill="url(#matrixGrad)" opacity="0.6"/>
    <rect x="40" y="0" width="10" height="10" fill="url(#matrixGrad)" opacity="0.5"/>
    <rect x="80" y="0" width="10" height="10" fill="url(#matrixGrad)" opacity="0.4"/>

    <!-- Highlight specific coordinates -->
    <rect x="120" y="80" width="10" height="10" fill="#f59e0b" opacity="0.8"/>
    <text x="135" y="88" font-family="monospace" font-size="9" fill="#92400e">(3,80)</text>

    <rect x="280" y="160" width="10" height="10" fill="#10b981" opacity="0.8"/>
    <text x="295" y="168" font-family="monospace" font-size="9" fill="#065f46">(7,160)</text>

    <rect x="400" y="240" width="10" height="10" fill="#ef4444" opacity="0.8"/>
    <text x="415" y="248" font-family="monospace" font-size="9" fill="#7f1d1d">(10,240)</text>
  </g>

  <!-- Mathematical Breakdown -->
  <g transform="translate(650, 100)">
    <rect x="0" y="0" width="450" height="320" fill="#f9fafb" stroke="#d1d5db" stroke-width="1" rx="5" filter="url(#shadow)"/>

    <text x="225" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#1f2937">
      Mathematical Properties
    </text>

    <!-- Factorization -->
    <g transform="translate(20, 60)">
      <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">Factorization:</text>
      <text x="0" y="25" font-family="monospace" font-size="13" fill="#4b5563">12,288 = 2^12 × 3 = 4096 × 3</text>
      <text x="0" y="45" font-family="monospace" font-size="13" fill="#4b5563">12,288 = 48 × 256 (natural byte alignment)</text>
      <text x="0" y="65" font-family="monospace" font-size="13" fill="#4b5563">12,288 = 16 × 768 (cache line alignment)</text>
    </g>

    <!-- Coordinate Mapping -->
    <g transform="translate(20, 160)">
      <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">Coordinate Mapping:</text>
      <text x="0" y="25" font-family="monospace" font-size="13" fill="#4b5563">Position = Column × 256 + Row</text>
      <text x="0" y="45" font-family="monospace" font-size="13" fill="#4b5563">Column = Position ÷ 256</text>
      <text x="0" y="65" font-family="monospace" font-size="13" fill="#4b5563">Row = Position mod 256</text>
    </g>

    <!-- Hash Function -->
    <g transform="translate(20, 260)">
      <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">Content Addressing:</text>
      <text x="0" y="25" font-family="monospace" font-size="13" fill="#4b5563">coord = H(content) mod 12288</text>
      <text x="0" y="45" font-family="monospace" font-size="13" fill="#4b5563">H: SHA3-256 → [0, 12287]</text>
    </g>
  </g>

  <!-- Distribution Properties -->
  <g transform="translate(100, 460)">
    <rect x="0" y="0" width="1000" height="280" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="5" filter="url(#shadow)"/>

    <text x="500" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#92400e">
      Key Properties &amp; Guarantees
    </text>

    <!-- Three columns of properties -->
    <g transform="translate(30, 60)">
      <!-- Column 1: Structural Properties -->
      <g>
        <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b45309">Structural Properties:</text>
        <text x="0" y="25" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Fixed size: exactly 12,288 coordinates</text>
        <text x="0" y="45" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• 2D matrix: 48 columns × 256 rows</text>
        <text x="0" y="65" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Torus topology: wraps at boundaries</text>
        <text x="0" y="85" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Byte-aligned rows (256 = 2^8)</text>
        <text x="0" y="105" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Perfect factorization for parallelism</text>
      </g>

      <!-- Column 2: Addressing Properties -->
      <g transform="translate(340, 0)">
        <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b45309">Addressing Properties:</text>
        <text x="0" y="25" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Content determines position</text>
        <text x="0" y="45" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• No central allocation needed</text>
        <text x="0" y="65" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Globally unique without coordination</text>
        <text x="0" y="85" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Deterministic placement</text>
        <text x="0" y="105" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• O(1) lookup time</text>
      </g>

      <!-- Column 3: Distribution Properties -->
      <g transform="translate(640, 0)">
        <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b45309">Distribution Properties:</text>
        <text x="0" y="25" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Uniform distribution via SHA3</text>
        <text x="0" y="45" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Load balancing by construction</text>
        <text x="0" y="65" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• 768-cycle fairness guarantee</text>
        <text x="0" y="85" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• No hotspots or cold spots</text>
        <text x="0" y="105" font-family="Arial, sans-serif" font-size="12" fill="#78350f">• Natural sharding boundaries</text>
      </g>
    </g>

    <!-- Visual representation of distribution -->
    <g transform="translate(30, 180)">
      <text font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b45309">Example Content Mapping:</text>

      <!-- Content -> Hash -> Coordinate flow -->
      <rect x="0" y="20" width="140" height="30" fill="#fff7ed" stroke="#f59e0b" stroke-width="1" rx="3"/>
      <text x="70" y="40" font-family="monospace" font-size="11" text-anchor="middle" fill="#92400e">"Hello World"</text>

      <path d="M 145 35 L 175 35" stroke="#f59e0b" stroke-width="2" marker-end="url(#arrowOrange)"/>

      <rect x="180" y="20" width="200" height="30" fill="#fff7ed" stroke="#f59e0b" stroke-width="1" rx="3"/>
      <text x="280" y="40" font-family="monospace" font-size="11" text-anchor="middle" fill="#92400e">SHA3: 0xA7B8C9D0...</text>

      <path d="M 385 35 L 415 35" stroke="#f59e0b" stroke-width="2" marker-end="url(#arrowOrange)"/>

      <rect x="420" y="20" width="140" height="30" fill="#fff7ed" stroke="#f59e0b" stroke-width="1" rx="3"/>
      <text x="490" y="40" font-family="monospace" font-size="11" text-anchor="middle" fill="#92400e">Coord: (15, 184)</text>

      <path d="M 565 35 L 595 35" stroke="#f59e0b" stroke-width="2" marker-end="url(#arrowOrange)"/>

      <rect x="600" y="20" width="140" height="30" fill="#fff7ed" stroke="#f59e0b" stroke-width="1" rx="3"/>
      <text x="670" y="40" font-family="monospace" font-size="11" text-anchor="middle" fill="#92400e">Position: 4024</text>
    </g>
  </g>

  <!-- Arrow markers -->
  <defs>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#f59e0b"/>
    </marker>
  </defs>
</svg>